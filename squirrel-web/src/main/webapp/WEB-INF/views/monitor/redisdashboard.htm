<div class="main-content" id="ClusterDashBoardController"
	 ng-controller="ClusterDashBoardController">
	<script type="text/javascript"
			src="${rc.contextPath}/static/js/avatar-cacheredisdashboard.js"></script>
	<div class="page-header"></div>
	<div class="page-content">

		<div class="row">
			<div class="col-xs-12">
				<div ng-repeat="item in redisdata">
					<div class="col-xs-12 widget-container-col ui-sortable">
						<div
								class="widget-box widget-color-{{item.colors.alarm}} ui-sortable-handle collapsed">
							<!-- #section:custom/widget-box.options.collapsed -->
							<div class="widget-header widget-header-small" >
								<h6 class="widget-title">
									<div class="col-sm-2">{{item.clusterName}}</div>
									<div class="col-sm-3">Memory:{{item.used}} %/
										{{item.maxMemory}} G</div>
									<div class="col-sm-2">M : {{item.nodes.length}}/{{item.nodes.length}}</div>
									<div class="col-sm-2">S : {{item.nodes.length}}/{{item.nodes.length}}</div>
								</h6>

								<div class="widget-toolbar">
									<a href="#" data-action="settings"> <i
											class="ace-icon fa fa-cog"></i>
									</a> <a href="#" data-action="reload"> <i
										class="ace-icon fa fa-refresh"></i>
								</a> <a href="#" data-action="collapse"> <i
										class="ace-icon fa fa-plus" data-icon-show="fa-plus"
										data-icon-hide="fa-minus"></i>
								</a> <a href="#" data-action="close"> <i
										class="ace-icon fa fa-times"></i>
								</a>
								</div>
							</div>

							<!-- /section:custom/widget-box.options.collapsed -->
							<div class="widget-body" style="display: none;">
								<div class="widget-main no-padding">
									<table class="table table-striped table-bordered table-hover">
										<thead>
										<tr>
											<th>ID</th>
											<th>Master</th>
											<th>Slave</th>
											<th>Stats</th>
											<th style="#if(${isadmin})display: table-cell;#else display: none;#end;">Operate</th>
										</tr>
										</thead>

										<tbody>
										<tr ng-repeat="data in item.nodes track by $index">
											<td>{{$index+1}}</td>
											<td class="row col-sm-4">
												<div class="col-sm-10">{{data.master.address}}</div>
												<div class="col-sm-2">
													<a href="${rc.contextPath}/redis/serverinfo"
													   ng-click="transport(data.master.address)">View</a>
												</div>
											</td>
											<td class="col-sm-2">
												<div class="row col-sm-12">
													<div class="col-xs-6">{{data.slave.address}}</div>
												</div>
											</td>
											<td class="col-sm-4">slots数量:{{data.master.slotList.length}}|Mem
												:{{data.master.info.usedMemory}}/{{data.master.info.maxMemory}}</td>
											<td class="col-sm-2" style="#if(${isadmin})display: table-cell;#else display: none;#end;">
												<div class="hidden-sm hidden-xs btn-group">
													<button class="btn btn-xs btn-success" ng-show="{{data.slave.address==null}}"
															ng-click="addSlave(item.clusterName,data.master.address)">Slave
														<i class="ace-icon fa fa-plus bigger-120"></i>
													</button>
													<button class="btn btn-xs btn-danger" ng-click="deleteSlave(item.clusterName,data.slave.address)"
															ng-show="{{data.slave.address!=null}}">Slave
														<i class="ace-icon fa fa-trash-o bigger-120"></i>
													</button>
												</div>
											</td>
										</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>

				</div>


			</div>


		</div>

		</div>
	</div>
